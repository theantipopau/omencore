<Window x:Class="OmenCore.Views.OsdOverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="OmenCore OSD"
        SizeToContent="WidthAndHeight"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ShowActivated="False"
        ResizeMode="NoResize"
        Focusable="False"
        IsHitTestVisible="False">
    
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibility"/>
    </Window.Resources>
    
    <Border Background="#AA101020" 
            BorderBrush="#55FF005C" 
            BorderThickness="1.5" 
            CornerRadius="6"
            Padding="12,10"
            Margin="4">
        <Border.Effect>
            <DropShadowEffect Color="Black" Opacity="0.5" BlurRadius="10" ShadowDepth="2"/>
        </Border.Effect>
        
        <StackPanel>
            <!-- Clock Time -->
            <TextBlock Text="{Binding ClockTime}" 
                       FontSize="11" 
                       FontWeight="SemiBold" 
                       Foreground="#AAAAAA" 
                       HorizontalAlignment="Center"
                       Margin="0,0,0,4"
                       FontFamily="Consolas"
                       Visibility="{Binding ShowTime, Converter={StaticResource BoolToVisibility}}"/>
            
            <!-- Current Mode Header (if enabled) -->
            <Border Background="#22FF005C" CornerRadius="2" Padding="6,2" Margin="0,0,0,6"
                    Visibility="{Binding ShowCurrentMode, Converter={StaticResource BoolToVisibility}}">
                <TextBlock Text="{Binding CurrentMode}" 
                           FontSize="10" 
                           FontWeight="Bold" 
                           Foreground="#FF005C" 
                           HorizontalAlignment="Center"/>
            </Border>
            
            <!-- Performance Mode -->
            <Grid Margin="0,1" Visibility="{Binding ShowPerformanceMode, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="MODE" FontSize="9" Foreground="#666" FontFamily="Consolas"/>
                <TextBlock Grid.Column="2" Text="{Binding PerformanceMode}" FontSize="10" Foreground="#FFD700" FontFamily="Consolas" FontWeight="SemiBold" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Fan Mode -->
            <Grid Margin="0,1" Visibility="{Binding ShowFanMode, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="FANS" FontSize="9" Foreground="#666" FontFamily="Consolas"/>
                <TextBlock Grid.Column="2" Text="{Binding FanMode}" FontSize="10" Foreground="#00BFFF" FontFamily="Consolas" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Separator -->
            <Border Height="1" Background="#33FFFFFF" Margin="0,4" 
                    Visibility="{Binding ShowSeparator1, Converter={StaticResource BoolToVisibility}}"/>
            
            <!-- CPU Stats -->
            <Grid Margin="0,1" Visibility="{Binding ShowCpuTemp, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="CPU" FontSize="10" Foreground="#888" FontFamily="Consolas"/>
                <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBlock Text="{Binding CpuTemp, StringFormat={}{0:F0}°}" FontSize="10" Foreground="{Binding CpuTempColor}" FontFamily="Consolas"/>
                    <TextBlock Text=" " FontSize="10" Visibility="{Binding ShowCpuLoad, Converter={StaticResource BoolToVisibility}}"/>
                    <TextBlock Text="{Binding CpuLoad, StringFormat={}{0:F0}%}" FontSize="10" Foreground="#FF005C" FontFamily="Consolas" 
                               Visibility="{Binding ShowCpuLoad, Converter={StaticResource BoolToVisibility}}"/>
                    <TextBlock Text=" " FontSize="10" Visibility="{Binding ShowCpuPower, Converter={StaticResource BoolToVisibility}}"/>
                    <TextBlock Text="{Binding CpuPower}" FontSize="10" Foreground="#FF9500" FontFamily="Consolas" 
                               Visibility="{Binding ShowCpuPower, Converter={StaticResource BoolToVisibility}}"/>
                </StackPanel>
            </Grid>
            
            <!-- GPU Stats -->
            <Grid Margin="0,1" Visibility="{Binding ShowGpuTemp, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="GPU" FontSize="10" Foreground="#888" FontFamily="Consolas"/>
                <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBlock Text="{Binding GpuTemp, StringFormat={}{0:F0}°}" FontSize="10" Foreground="{Binding GpuTempColor}" FontFamily="Consolas"/>
                    <TextBlock Text=" " FontSize="10" Visibility="{Binding ShowGpuLoad, Converter={StaticResource BoolToVisibility}}"/>
                    <TextBlock Text="{Binding GpuLoad, StringFormat={}{0:F0}%}" FontSize="10" Foreground="#00D4FF" FontFamily="Consolas" 
                               Visibility="{Binding ShowGpuLoad, Converter={StaticResource BoolToVisibility}}"/>
                    <TextBlock Text=" " FontSize="10" Visibility="{Binding ShowGpuPower, Converter={StaticResource BoolToVisibility}}"/>
                    <TextBlock Text="{Binding GpuPower}" FontSize="10" Foreground="#FF9500" FontFamily="Consolas" 
                               Visibility="{Binding ShowGpuPower, Converter={StaticResource BoolToVisibility}}"/>
                </StackPanel>
            </Grid>
            
            <!-- GPU Hotspot Temperature -->
            <Grid Margin="0,1" Visibility="{Binding ShowGpuHotspot, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="TJUNC" FontSize="10" Foreground="#888" FontFamily="Consolas"/>
                <TextBlock Grid.Column="2" Text="{Binding GpuHotspotTemp, StringFormat={}{0:F0}°}" FontSize="10" Foreground="{Binding GpuHotspotTempColor}" FontFamily="Consolas" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- VRAM Usage -->
            <Grid Margin="0,1" Visibility="{Binding ShowVramUsage, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="VRAM" FontSize="10" Foreground="#888" FontFamily="Consolas"/>
                <TextBlock Grid.Column="2" Text="{Binding VramUsage}" FontSize="10" Foreground="#AB47BC" FontFamily="Consolas" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Package Power (CPU+GPU) -->
            <Grid Margin="0,1" Visibility="{Binding ShowPackagePower, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="PKG" FontSize="10" Foreground="#888" FontFamily="Consolas"/>
                <TextBlock Grid.Column="2" Text="{Binding PackagePower}" FontSize="10" Foreground="#FFA726" FontFamily="Consolas" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Fan Speed -->
            <Grid Margin="0,1" Visibility="{Binding ShowFanSpeed, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="FAN" FontSize="10" Foreground="#888" FontFamily="Consolas"/>
                <TextBlock Grid.Column="2" Text="{Binding FanSpeed}" FontSize="10" Foreground="#999" FontFamily="Consolas" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- RAM Usage -->
            <Grid Margin="0,1" Visibility="{Binding ShowRamUsage, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="RAM" FontSize="10" Foreground="#888" FontFamily="Consolas"/>
                <TextBlock Grid.Column="2" Text="{Binding RamUsage}" FontSize="10" Foreground="#999" FontFamily="Consolas" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Separator -->
            <Border Height="1" Background="#33FFFFFF" Margin="0,4" 
                    Visibility="{Binding ShowSeparator2, Converter={StaticResource BoolToVisibility}}"/>
            
            <!-- FPS (prominent display) -->
            <Grid Margin="0,2" Visibility="{Binding ShowFps, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="FPS" FontSize="11" Foreground="#00FF88" FontFamily="Consolas" FontWeight="Bold"/>
                <TextBlock Grid.Column="2" Text="{Binding Fps, StringFormat={}{0:F0}}" FontSize="14" Foreground="#00FF88" FontFamily="Consolas" FontWeight="Bold" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Frametime -->
            <Grid Margin="0,1" Visibility="{Binding ShowFrametime, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="FT" FontSize="9" Foreground="#666" FontFamily="Consolas"/>
                <TextBlock Grid.Column="2" Text="{Binding Frametime, StringFormat={}{0:F1}ms}" FontSize="10" Foreground="#66BB6A" FontFamily="Consolas" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Network Latency -->
            <Grid Margin="0,1" Visibility="{Binding ShowNetworkLatency, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="PING" FontSize="9" Foreground="#666" FontFamily="Consolas"/>
                <TextBlock Grid.Column="2" Text="{Binding NetworkLatency}" FontSize="10" Foreground="{Binding NetworkLatencyColor}" FontFamily="Consolas" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Throttling Warning -->
            <Border Background="#33FF4444" 
                    CornerRadius="2" 
                    Padding="4,2" 
                    Margin="0,4,0,0"
                    Visibility="{Binding IsThrottling, Converter={StaticResource BoolToVisibility}}">
                <TextBlock Text="⚠ THERMAL THROTTLE" FontSize="9" Foreground="#FF6666" FontWeight="Bold" HorizontalAlignment="Center"/>
            </Border>
        </StackPanel>
    </Border>
</Window>
