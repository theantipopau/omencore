<Window x:Class="OmenCore.Views.OsdOverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="OmenCore OSD"
        SizeToContent="WidthAndHeight"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ShowActivated="False"
        ResizeMode="NoResize"
        Focusable="False"
        IsHitTestVisible="False">
    
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibility"/>
    </Window.Resources>
    
    <!-- Improved contrast and sizing for high-DPI (1440p+) displays -->
    <Border Background="#DD0A0A14" 
            BorderBrush="#88FF005C" 
            BorderThickness="2" 
            CornerRadius="8"
            Padding="16,12"
            Margin="6"
            MinWidth="180">
        <Border.Effect>
            <DropShadowEffect Color="Black" Opacity="0.5" BlurRadius="10" ShadowDepth="2"/>
        </Border.Effect>
        
        <StackPanel x:Name="MainPanel">
            <!-- Clock Time -->
            <TextBlock Text="{Binding ClockTime}" 
                       FontSize="13" 
                       FontWeight="SemiBold" 
                       Foreground="#CCCCCC" 
                       HorizontalAlignment="Center"
                       Margin="0,0,0,6"
                       FontFamily="Segoe UI"
                       Visibility="{Binding ShowTime, Converter={StaticResource BoolToVisibility}}"/>
            
            <!-- Current Mode Header (if enabled) -->
            <Border Background="#33FF005C" CornerRadius="4" Padding="8,4" Margin="0,0,0,8"
                    Visibility="{Binding ShowCurrentMode, Converter={StaticResource BoolToVisibility}}">
                <TextBlock Text="{Binding CurrentMode}" 
                           FontSize="12" 
                           FontWeight="Bold" 
                           Foreground="#FF3377" 
                           HorizontalAlignment="Center"/>
            </Border>
            
            <!-- Performance Mode -->
            <Grid Margin="0,3" Visibility="{Binding ShowPerformanceMode, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="MODE" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <TextBlock Grid.Column="2" Text="{Binding PerformanceMode}" FontSize="12" Foreground="#FFD700" FontFamily="Segoe UI" FontWeight="SemiBold" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Fan Mode -->
            <Grid Margin="0,3" Visibility="{Binding ShowFanMode, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="FANS" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <TextBlock Grid.Column="2" Text="{Binding FanMode}" FontSize="12" Foreground="#00BFFF" FontFamily="Segoe UI" FontWeight="SemiBold" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Separator -->
            <Border Height="1" Background="#44FFFFFF" Margin="0,6" 
                    Visibility="{Binding ShowSeparator1, Converter={StaticResource BoolToVisibility}}"/>
            
            <!-- CPU Stats -->
            <Grid Margin="0,3" Visibility="{Binding ShowCpuTemp, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="CPU" FontSize="12" Foreground="#999999" FontFamily="Segoe UI" FontWeight="Medium"/>
                <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBlock Text="{Binding CpuTemp, StringFormat={}{0:F0}°}" FontSize="13" Foreground="{Binding CpuTempColor}" FontFamily="Segoe UI" FontWeight="SemiBold"/>
                    <TextBlock Text="  " FontSize="12" Visibility="{Binding ShowCpuLoad, Converter={StaticResource BoolToVisibility}}"/>
                    <TextBlock Text="{Binding CpuLoad, StringFormat={}{0:F0}%}" FontSize="12" Foreground="#FF3366" FontFamily="Segoe UI" FontWeight="Medium"
                               Visibility="{Binding ShowCpuLoad, Converter={StaticResource BoolToVisibility}}"/>
                    <TextBlock Text="  " FontSize="12" Visibility="{Binding ShowCpuPower, Converter={StaticResource BoolToVisibility}}"/>
                    <TextBlock Text="{Binding CpuPower}" FontSize="12" Foreground="#FFA500" FontFamily="Segoe UI" FontWeight="Medium"
                               Visibility="{Binding ShowCpuPower, Converter={StaticResource BoolToVisibility}}"/>
                </StackPanel>
            </Grid>
            
            <!-- CPU Clock Speed -->
            <Grid Margin="0,3" Visibility="{Binding ShowCpuClock, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="CPU CLK" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <TextBlock Grid.Column="2" Text="{Binding CpuClockSpeed}" FontSize="12" Foreground="#42A5F5" FontFamily="Segoe UI" FontWeight="Medium" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- GPU Stats -->
            <Grid Margin="0,3" Visibility="{Binding ShowGpuTemp, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="GPU" FontSize="12" Foreground="#999999" FontFamily="Segoe UI" FontWeight="Medium"/>
                <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBlock Text="{Binding GpuTemp, StringFormat={}{0:F0}°}" FontSize="13" Foreground="{Binding GpuTempColor}" FontFamily="Segoe UI" FontWeight="SemiBold"/>
                    <TextBlock Text="  " FontSize="12" Visibility="{Binding ShowGpuLoad, Converter={StaticResource BoolToVisibility}}"/>
                    <TextBlock Text="{Binding GpuLoad, StringFormat={}{0:F0}%}" FontSize="12" Foreground="#00D4FF" FontFamily="Segoe UI" FontWeight="Medium"
                               Visibility="{Binding ShowGpuLoad, Converter={StaticResource BoolToVisibility}}"/>
                    <TextBlock Text="  " FontSize="12" Visibility="{Binding ShowGpuPower, Converter={StaticResource BoolToVisibility}}"/>
                    <TextBlock Text="{Binding GpuPower}" FontSize="12" Foreground="#FFA500" FontFamily="Segoe UI" FontWeight="Medium"
                               Visibility="{Binding ShowGpuPower, Converter={StaticResource BoolToVisibility}}"/>
                </StackPanel>
            </Grid>
            
            <!-- GPU Clock Speed -->
            <Grid Margin="0,3" Visibility="{Binding ShowGpuClock, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="GPU CLK" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <TextBlock Grid.Column="2" Text="{Binding GpuClockSpeed}" FontSize="12" Foreground="#00D4FF" FontFamily="Segoe UI" FontWeight="Medium" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- GPU Hotspot Temperature -->
            <Grid Margin="0,3" Visibility="{Binding ShowGpuHotspot, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="TJUNC" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <TextBlock Grid.Column="2" Text="{Binding GpuHotspotTemp, StringFormat={}{0:F0}°}" FontSize="13" Foreground="{Binding GpuHotspotTempColor}" FontFamily="Segoe UI" FontWeight="SemiBold" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- VRAM Usage -->
            <Grid Margin="0,3" Visibility="{Binding ShowVramUsage, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="VRAM" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <TextBlock Grid.Column="2" Text="{Binding VramUsage}" FontSize="12" Foreground="#AB47BC" FontFamily="Segoe UI" FontWeight="Medium" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Package Power (CPU+GPU) -->
            <Grid Margin="0,3" Visibility="{Binding ShowPackagePower, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="PKG" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <TextBlock Grid.Column="2" Text="{Binding PackagePower}" FontSize="12" Foreground="#FFA726" FontFamily="Segoe UI" FontWeight="Medium" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Fan Speed -->
            <Grid Margin="0,3" Visibility="{Binding ShowFanSpeed, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="FAN" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <TextBlock Grid.Column="2" Text="{Binding FanSpeed}" FontSize="12" Foreground="#AAAAAA" FontFamily="Segoe UI" FontWeight="Medium" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- RAM Usage -->
            <Grid Margin="0,3" Visibility="{Binding ShowRamUsage, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="RAM" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <TextBlock Grid.Column="2" Text="{Binding RamUsage}" FontSize="12" Foreground="#AAAAAA" FontFamily="Segoe UI" FontWeight="Medium" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Battery -->
            <Grid Margin="0,3" Visibility="{Binding ShowBattery, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="BAT" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <TextBlock Grid.Column="2" Text="{Binding BatteryPercent}" FontSize="12" Foreground="{Binding BatteryColor}" FontFamily="Segoe UI" FontWeight="Medium" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Separator -->
            <Border Height="1" Background="#44FFFFFF" Margin="0,6" 
                    Visibility="{Binding ShowSeparator2, Converter={StaticResource BoolToVisibility}}"/>
            
            <!-- FPS/GPU Activity (prominent display) -->
            <Grid Margin="0,4" Visibility="{Binding ShowFps, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="{Binding FpsLabel}" FontSize="14" Foreground="#00FF88" FontFamily="Segoe UI" FontWeight="Bold" ToolTip="FPS (via RTSS) or GPU Activity when RTSS not available"/>
                <TextBlock Grid.Column="2" Text="{Binding FpsDisplay}" FontSize="18" Foreground="#00FF88" FontFamily="Segoe UI" FontWeight="Bold" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Frametime -->
            <Grid Margin="0,3" Visibility="{Binding ShowFrametime, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="FT" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <TextBlock Grid.Column="2" Text="{Binding FrametimeDisplay}" FontSize="12" Foreground="#66BB6A" FontFamily="Segoe UI" FontWeight="Medium" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Network Latency -->
            <Grid Margin="0,3" Visibility="{Binding ShowNetworkLatency, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="PING" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <TextBlock Grid.Column="2" Text="{Binding NetworkLatency}" FontSize="12" Foreground="{Binding NetworkLatencyColor}" FontFamily="Segoe UI" FontWeight="Medium" HorizontalAlignment="Right"/>
            </Grid>
            
            <!-- Network Upload Speed -->
            <Grid Margin="0,3" Visibility="{Binding ShowNetworkUpload, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="↑ UP" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBlock Text="{Binding NetworkUpload}" FontSize="12" Foreground="#42A5F5" FontFamily="Segoe UI" FontWeight="Medium"/>
                    <TextBlock Text=" Mbps" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                </StackPanel>
            </Grid>
            
            <!-- Network Download Speed -->
            <Grid Margin="0,3" Visibility="{Binding ShowNetworkDownload, Converter={StaticResource BoolToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" Text="↓ DN" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBlock Text="{Binding NetworkDownload}" FontSize="12" Foreground="#66BB6A" FontFamily="Segoe UI" FontWeight="Medium"/>
                    <TextBlock Text=" Mbps" FontSize="11" Foreground="#888888" FontFamily="Segoe UI" FontWeight="Medium"/>
                </StackPanel>
            </Grid>
            
            <!-- Throttling Warning -->
            <Border Background="#44FF4444" 
                    CornerRadius="4" 
                    Padding="8,4" 
                    Margin="0,6,0,0"
                    Visibility="{Binding IsThrottling, Converter={StaticResource BoolToVisibility}}">
                <TextBlock Text="⚠ THERMAL THROTTLE" FontSize="11" Foreground="#FF6666" FontWeight="Bold" HorizontalAlignment="Center"/>
            </Border>
        </StackPanel>
    </Border>
</Window>
